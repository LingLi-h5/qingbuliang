<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>海南清补凉美食地图</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }

        body {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: #5a3921;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            text-align: center;
        }

        .header {
            margin-bottom: 20px;
            padding: 15px;
            animation: fadeInDown 1s ease;
        }

        .header h1 {
            color: #8B4513;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header p {
            color: #654321;
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .map-container {
            position: relative;
            width: 100%;
            height: 600px;
            background: url('https://images.unsplash.com/photo-1587332278432-bbabef87e1c9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center;
            background-size: cover;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            margin-bottom: 30px;
        }

        .hainan-map {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .location {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8B4513, #A0522D);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(139, 69, 19, 0.4);
            transition: all 0.3s ease;
            z-index: 10;
            animation: pulse 2s infinite;
        }

        .location:hover {
            transform: scale(1.2);
            box-shadow: 0 6px 15px rgba(139, 69, 19, 0.6);
        }

        .location i {
            color: white;
            font-size: 1.2rem;
        }

        .location-info {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            width: 320px;
            z-index: 100;
            display: none;
            animation: fadeInUp 0.5s ease;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(139, 69, 19, 0.2);
        }

        .location-info.active {
            display: block;
        }

        .info-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e0e0e0;
        }

        .shop-name {
            font-size: 1.4rem;
            color: #8B4513;
            font-weight: bold;
        }

        .rating {
            display: flex;
            align-items: center;
            background: #ffd700;
            padding: 4px 8px;
            border-radius: 20px;
            color: #8B4513;
            font-weight: bold;
        }

        .rating i {
            margin-right: 4px;
        }

        .info-details {
            text-align: left;
        }

        .detail-item {
            margin-bottom: 12px;
            display: flex;
            align-items: flex-start;
        }

        .detail-item i {
            color: #8B4513;
            margin-right: 10px;
            margin-top: 2px;
            width: 16px;
        }

        .detail-label {
            font-weight: bold;
            color: #654321;
            margin-right: 5px;
        }

        .specialty {
            background: rgba(255, 236, 210, 0.5);
            padding: 8px 12px;
            border-radius: 8px;
            margin-top: 5px;
        }

        .instructions {
            background: rgba(255, 255, 255, 0.7);
            padding: 20px;
            border-radius: 10px;
            max-width: 800px;
            margin: 20px auto;
            text-align: left;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .instructions h2 {
            color: #8B4513;
            margin-bottom: 15px;
            text-align: center;
        }

        .instructions ul {
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 10px;
            line-height: 1.5;
        }

        footer {
            margin-top: 40px;
            padding: 20px;
            font-size: 0.9rem;
            opacity: 0.8;
            color: #654321;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(139, 69, 19, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(139, 69, 19, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(139, 69, 19, 0);
            }
        }

        @media (max-width: 768px) {
            .map-container {
                height: 500px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .location-info {
                width: 280px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>海南清补凉美食地图</h1>
            <p>探索海南岛最地道的清补凉美味，点击地图标记发现美食店铺</p>
        </div>
        
        <div class="map-container">
            <div class="hainan-map" id="hainanMap">
                <!-- 地图标记将通过JavaScript动态添加 -->
            </div>
        </div>
        
        <div class="instructions">
            <h2>探索指南</h2>
            <ul>
                <li><strong>点击地图标记</strong> - 查看店铺详细信息，包括招牌推荐和用户评分</li>
                <li><strong>寻找最佳店铺</strong> - 金色标记表示评分4.7以上的高口碑店铺</li>
                <li><strong>探索全岛美味</strong> - 从海口到三亚，发现各地特色清补凉</li>
            </ul>
        </div>
        
        <footer>
            <p>海南清补凉美食地图 &copy; 2023 | 数据来源于真实用户评价</p>
        </footer>
    </div>

    <script>
        // 清补凉店铺数据
        const shops = [
            {
                id: 1,
                name: "老彭记清补凉",
                position: { x: 45, y: 65 },
                rating: 4.8,
                price: "15-25元",
                address: "海口市美兰区海府路12号",
                specialty: ["椰子水清补凉", "椰奶清补凉", "冰淇淋清补凉"],
                description: "海口老字号，传承三代人的手艺，椰子水清甜爽口。"
            },
            {
                id: 2,
                name: "旺溪清补凉",
                position: { x: 60, y: 40 },
                rating: 4.7,
                price: "12-20元",
                address: "文昌市文城镇东风路88号",
                specialty: ["芋圆清补凉", "红豆沙清补凉", "传统椰奶清补凉"],
                description: "文昌人气店铺，芋圆Q弹有嚼劲，深受当地人喜爱。"
            },
            {
                id: 3,
                name: "甜蜜蜜清补凉",
                position: { x: 30, y: 50 },
                rating: 4.5,
                price: "10-18元",
                address: "琼海市嘉积镇人民路56号",
                specialty: ["芒果清补凉", "百香果清补凉", "招牌椰奶清补凉"],
                description: "创新口味清补凉，水果系列特别受年轻人欢迎。"
            },
            {
                id: 4,
                name: "老街清补凉",
                position: { x: 40, y: 30 },
                rating: 4.6,
                price: "8-15元",
                address: "万宁市万城镇解放路102号",
                specialty: ["传统红糖清补凉", "绿豆清补凉", "桂圆红枣清补凉"],
                description: "坚持传统制作工艺，红糖清补凉甜而不腻。"
            },
            {
                id: 5,
                name: "海风清补凉",
                position: { x: 20, y: 70 },
                rating: 4.9,
                price: "18-30元",
                address: "三亚市吉阳区滨海路205号",
                specialty: ["豪华海鲜清补凉", "椰皇清补凉", "冰沙清补凉"],
                description: "高端清补凉体验，用料讲究，环境优雅。"
            },
            {
                id: 6,
                name: "阿婆清补凉",
                position: { x: 55, y: 55 },
                rating: 4.4,
                price: "6-12元",
                address: "儋州市那大镇文化路34号",
                specialty: ["传统清补凉", "冬瓜薏清补凉", "莲子清补凉"],
                description: "三十年老店，价格亲民，味道纯正。"
            }
        ];

        // 初始化地图
        document.addEventListener('DOMContentLoaded', function() {
            const mapContainer = document.getElementById('hainanMap');
            
            // 创建店铺标记
            shops.forEach(shop => {
                createShopMarker(shop, mapContainer);
            });
        });

        // 创建店铺标记函数
        function createShopMarker(shop, container) {
            const marker = document.createElement('div');
            marker.className = 'location';
            marker.style.left = `${shop.position.x}%`;
            marker.style.top = `${shop.position.y}%`;
            
            // 高评分店铺使用不同图标
            if (shop.rating >= 4.7) {
                marker.innerHTML = '<i class="fas fa-crown"></i>';
                marker.style.background = 'linear-gradient(135deg, #FFD700, #FFA500)';
            } else {
                marker.innerHTML = '<i class="fas fa-utensils"></i>';
            }
            
            // 创建信息窗口
            const infoWindow = document.createElement('div');
            infoWindow.className = 'location-info';
            infoWindow.innerHTML = `
                <div class="info-header">
                    <div class="shop-name">${shop.name}</div>
                    <div class="rating">
                        <i class="fas fa-star"></i> ${shop.rating}
                    </div>
                </div>
                <div class="info-details">
                    <div class="detail-item">
                        <i class="fas fa-tag"></i>
                        <span class="detail-label">人均:</span> ${shop.price}
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span class="detail-label">地址:</span> ${shop.address}
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-utensil-spoon"></i>
                        <span class="detail-label">招牌推荐:</span>
                    </div>
                    <div class="specialty">
                        ${shop.specialty.map(item => `<div>• ${item}</div>`).join('')}
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-info-circle"></i>
                        <span>${shop.description}</span>
                    </div>
                </div>
            `;
            
            // 点击标记显示信息窗口
            marker.addEventListener('click', function(e) {
                e.stopPropagation();
                
                // 隐藏所有信息窗口
                document.querySelectorAll('.location-info').forEach(info => {
                    info.classList.remove('active');
                });
                
                // 显示当前信息窗口
                infoWindow.classList.add('active');
                
                // 定位信息窗口
                const markerRect = marker.getBoundingClientRect();
                const containerRect = container.getBoundingClientRect();
                
                let left = markerRect.left - containerRect.left + 20;
                let top = markerRect.top - containerRect.top + 20;
                
                // 确保信息窗口不超出容器边界
                if (left + 320 > containerRect.width) {
                    left = containerRect.width - 340;
                }
                
                if (top + 300 > containerRect.height) {
                    top = containerRect.height - 320;
                }
                
                infoWindow.style.left = `${left}px`;
                infoWindow.style.top = `${top}px`;
            });
            
            // 点击地图其他区域隐藏信息窗口
            container.addEventListener('click', function() {
                document.querySelectorAll('.location-info').forEach(info => {
                    info.classList.remove('active');
                });
            });
            
            container.appendChild(marker);
            container.appendChild(infoWindow);
        }
    </script>
</body>
</html>