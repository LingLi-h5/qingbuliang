<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ¸…è¡¥å‡‰æ–‡åŒ–æº¯æº</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "PingFang SC", "Helvetica Neue", Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            color: #5a3921;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            width: 100%;
            padding: 0 10px;
        }

        .header h1 {
            color: #8B4513;
            font-size: 2.2rem;
            margin-bottom: 12px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            font-weight: 700;
        }

        .header p {
            color: #654321;
            font-size: 1rem;
            max-width: 100%;
            margin: 0 auto;
            line-height: 1.6;
            opacity: 0.9;
        }

        .timeline-container {
            width: 100%;
            max-width: 800px; /* é™åˆ¶æœ€å¤§å®½åº¦ */
            margin: 0 auto 30px;
            position: relative;
        }

        .timeline {
            display: flex;
            overflow-x: auto;
            padding: 30px 20px; /* å¢åŠ å·¦å³å†…è¾¹è· */
            gap: 40px;
            scroll-behavior: smooth;
            position: relative;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            min-width: 100%; /* ç¡®ä¿æ—¶é—´è½´è¶³å¤Ÿå®½ */
        }

        .timeline::-webkit-scrollbar {
            display: none;
        }

        /* ä¿®å¤æ—¶é—´è½´çº¿æ¡ - å…³é”®ä¿®æ”¹ */
        .timeline::before {
            content: '';
            position: absolute;
            top: 70px;
            left: 50px; /* ä»å·¦è¾¹å¼€å§‹ */
            right: 50px; /* åˆ°å³è¾¹ç»“æŸ */
            height: 4px;
            background: linear-gradient(to right, #8B4513, #D2691E, #CD853F);
            border-radius: 2px;
            z-index: 1; /* ç¡®ä¿çº¿æ¡åœ¨èŠ‚ç‚¹åé¢ */
        }

        .timeline-node {
            flex: 0 0 auto;
            width: 140px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 10px 5px;
            border-radius: 16px;
            position: relative;
            z-index: 2; /* ç¡®ä¿èŠ‚ç‚¹åœ¨çº¿æ¡ä¸Šé¢ */
        }

        .timeline-node:active {
            transform: scale(0.95);
            background-color: rgba(255, 255, 255, 0.5);
        }

        .timeline-node:focus {
            outline: 2px solid #8B4513;
            outline-offset: 2px;
        }

        .node-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background-color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            position: relative;
            z-index: 2;
            border: 3px solid #D2691E;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .node-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            background-color: #f5e3d4;
        }

        /* æ·»åŠ å ä½å›¾ç‰‡æ ·å¼ */
        .node-icon::before {
            content: 'ğŸ“œ';
            font-size: 1.5rem;
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .node-icon img {
            position: relative;
            z-index: 1;
        }

        .timeline-node.active .node-icon {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(210, 105, 30, 0.4);
        }

        .node-year {
            font-weight: 700;
            color: #8B4513;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .node-title {
            color: #654321;
            text-align: center;
            font-size: 0.9rem;
            line-height: 1.3;
        }

        .scroll-hint {
            text-align: center;
            color: #8B4513;
            margin-top: 10px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            opacity: 0.8;
        }

        .scroll-hint i {
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(0);
            }
            40% {
                transform: translateX(-5px);
            }
            60% {
                transform: translateX(5px);
            }
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 100;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
            padding: 15px;
        }

        .modal-content {
            background-color: #fff;
            width: 100%;
            max-width: 500px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.4s ease;
            max-height: 85vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .modal-header {
            background: linear-gradient(to right, #8B4513, #D2691E);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .modal-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            transition: transform 0.2s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-btn:active {
            background-color: rgba(255, 255, 255, 0.2);
            transform: scale(0.9);
        }

        .modal-body {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .modal-text {
            line-height: 1.7;
            color: #333;
            font-size: 1rem;
        }

        .modal-text p {
            margin-bottom: 15px;
        }

        .modal-map {
            width: 100%;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            background: #f9f5f0;
            padding: 15px;
            text-align: center;
        }

        .map-placeholder {
            width: 100%;
            height: 180px;
            background: linear-gradient(135deg, #f5e3d4 0%, #e9d0b8 100%);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #8B4513;
        }

        .map-placeholder i {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .map-caption {
            text-align: center;
            font-style: italic;
            color: #666;
            margin-top: 8px;
            font-size: 0.9rem;
        }

        .ingredients {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
            justify-content: center;
        }

        .ingredient {
            background: #f5e3d4;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            color: #8B4513;
        }

        .swipe-indicator {
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 5px;
        }

        .swipe-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: rgba(139, 69, 19, 0.3);
            transition: all 0.3s ease;
        }

        .swipe-dot.active {
            background-color: #8B4513;
            transform: scale(1.2);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(50px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .timeline::before {
                left: 30px;
                right: 30px;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            .timeline {
                gap: 30px;
                padding: 30px 15px;
            }
            
            .timeline-node {
                width: 120px;
            }
            
            .node-icon {
                width: 60px;
                height: 60px;
            }
            
            .modal-header h2 {
                font-size: 1.3rem;
            }
            
            .timeline::before {
                left: 20px;
                right: 20px;
            }
        }

        @media (max-width: 360px) {
            .timeline-node {
                width: 110px;
            }
            
            .node-year {
                font-size: 1rem;
            }
            
            .node-title {
                font-size: 0.85rem;
            }
            
            .timeline::before {
                left: 15px;
                right: 15px;
            }
        }
        
        @media (max-width: 320px) {
            .timeline-node {
                width: 100px;
            }
            
            .node-icon {
                width: 50px;
                height: 50px;
            }
            
            .timeline::before {
                left: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>æ¸…è¡¥å‡‰æ–‡åŒ–æº¯æº</h1>
        <p>æ¸…è¡¥å‡‰ï¼Œæºè‡ªå²­å—åœ°åŒºçš„ä¼ ç»Ÿç³–æ°´ï¼Œå†ç»åƒå¹´æ¼”å˜ï¼Œèåˆå¤šå…ƒæ–‡åŒ–ï¼Œæˆä¸ºæµ·å—æœ€å…·ä»£è¡¨æ€§çš„å¤æ—¥ç”œå“ã€‚</p>
    </div>

    <div class="timeline-container">
        <div class="timeline">
            <!-- æ—¶é—´è½´èŠ‚ç‚¹ -->
            <div class="timeline-node" data-year="ç§¦æ±‰æ—¶æœŸ" data-title="è¯é£ŸåŒæºèµ·æº">
                <div class="node-icon">
                    <img src="../assets/images/1.jpg" alt="ç§¦æ±‰æ—¶æœŸ" onerror="this.style.display='none'">
                </div>
                <div class="node-year">ç§¦æ±‰æ—¶æœŸ</div>
                <div class="node-title">è¯é£ŸåŒæºèµ·æº</div>
            </div>

            <div class="timeline-node" data-year="å”å®‹æ—¶æœŸ" data-title="ä¸­åŸæ–‡åŒ–ä¼ å…¥">
                <div class="node-icon">
                    <img src="../assets/images/2.jpg" alt="å”å®‹æ—¶æœŸ" onerror="this.style.display='none'">
                </div>
                <div class="node-year">å”å®‹æ—¶æœŸ</div>
                <div class="node-title">ä¸­åŸæ–‡åŒ–ä¼ å…¥</div>
            </div>

            <div class="timeline-node" data-year="æ˜æ¸…æ—¶æœŸ" data-title="å²­å—ç‰¹è‰²å½¢æˆ">
                <div class="node-icon">
                    <img src="../assets/images/3.jpg" alt="æ˜æ¸…æ—¶æœŸ" onerror="this.style.display='none'">
                </div>
                <div class="node-year">æ˜æ¸…æ—¶æœŸ</div>
                <div class="node-title">å²­å—ç‰¹è‰²å½¢æˆ</div>
            </div>

            <div class="timeline-node" data-year="æ°‘å›½æ—¶æœŸ" data-title="æµ·å—æœ¬åœŸåŒ–">
                <div class="node-icon">
                    <img src="../assets/images/4.jpg" alt="æ°‘å›½æ—¶æœŸ" onerror="this.style.display='none'">
                </div>
                <div class="node-year">æ°‘å›½æ—¶æœŸ</div>
                <div class="node-title">æµ·å—æœ¬åœŸåŒ–</div>
            </div>

            <div class="timeline-node" data-year="ç°ä»£" data-title="æ–‡åŒ–ä¼ æ‰¿ä¸åˆ›æ–°">
                <div class="node-icon">
                    <img src="../assets/images/5.jpg" alt="ç°ä»£" onerror="this.style.display='none'">
                </div>
                <div class="node-year">ç°ä»£</div>
                <div class="node-title">æ–‡åŒ–ä¼ æ‰¿ä¸åˆ›æ–°</div>
            </div>
        </div>
        <div class="scroll-hint">
            <span>â† å·¦å³æ»‘åŠ¨æŸ¥çœ‹æ›´å¤š â†’</span>
        </div>
        
        <div class="swipe-indicator">
            <div class="swipe-dot active"></div>
            <div class="swipe-dot"></div>
            <div class="swipe-dot"></div>
            <div class="swipe-dot"></div>
            <div class="swipe-dot"></div>
        </div>
    </div>

    <!-- æ¨¡æ€å¼¹çª— -->
    <div class="modal" id="historyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">æ¸…è¡¥å‡‰æ–‡åŒ–æº¯æº</h2>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-text" id="modalText">
                    <p>è¯·ç‚¹å‡»æ—¶é—´è½´èŠ‚ç‚¹æŸ¥çœ‹è¯¦æƒ…</p>
                </div>
                <div class="modal-map">
                    <div class="map-placeholder">
                        <span style="font-size: 2.5rem;">ğŸ—ºï¸</span>
                        <span>æ¸…è¡¥å‡‰ä¼ æ’­è·¯å¾„å›¾</span>
                    </div>
                    <div class="map-caption" id="modalMapCaption">ç‚¹å‡»æ—¶é—´è½´èŠ‚ç‚¹æŸ¥çœ‹ä¸åŒæ—¶æœŸçš„ä¼ æ’­è·¯å¾„</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // è·å–DOMå…ƒç´ 
        const timelineNodes = document.querySelectorAll('.timeline-node');
        const modal = document.getElementById('historyModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalText = document.getElementById('modalText');
        const modalMapCaption = document.getElementById('modalMapCaption');
        const closeBtn = document.querySelector('.close-btn');
        const swipeDots = document.querySelectorAll('.swipe-dot');

        // å†å²æ•°æ®
        const historyData = {
            "ç§¦æ±‰æ—¶æœŸ": {
                title: "è¯é£ŸåŒæºèµ·æº",
                content: `
                    <p>ç§¦æ±‰æ—¶æœŸï¼Œå²­å—åœ°åŒºå¼€å§‹å½¢æˆç‹¬ç‰¹çš„é¥®é£Ÿæ–‡åŒ–ã€‚æ¸…è¡¥å‡‰çš„å‰èº«å¯ä»¥è¿½æº¯åˆ°è¿™ä¸€æ—¶æœŸçš„ä¸­åŒ»"è¯é£ŸåŒæº"ç†å¿µã€‚</p>
                    <p>å½“æ—¶äººä»¬å‘ç°ï¼Œå°†å¤šç§å…·æœ‰è¯ç”¨ä»·å€¼çš„é£Ÿæç»„åˆé£Ÿç”¨ï¼Œä¸ä»…èƒ½å¤Ÿè§£æš‘é™æ¸©ï¼Œè¿˜èƒ½è°ƒç†èº«ä½“ã€‚è¿™äº›é£ŸæåŒ…æ‹¬ç»¿è±†ã€è–ç±³ã€ç™¾åˆç­‰ï¼Œå¥ å®šäº†æ¸…è¡¥å‡‰çš„åŸºæœ¬é…æ–¹ã€‚</p>
                    <p>ã€Šé»„å¸å†…ç»ã€‹ä¸­è®°è½½çš„"æ˜¥å¤å…»é˜³ï¼Œç§‹å†¬å…»é˜´"ç†å¿µï¼Œä¸æ¸…è¡¥å‡‰å¤å­£é£Ÿç”¨ä»¥æ¸…çƒ­ç¥›æ¹¿ã€å†¬å­£é£Ÿç”¨ä»¥æ¸©è¡¥å…»ç”Ÿçš„ç‰¹ç‚¹ç›¸å»åˆã€‚</p>
                    <div class="ingredients">
                        <div class="ingredient">ç»¿è±†</div>
                        <div class="ingredient">è–ç±³</div>
                        <div class="ingredient">ç™¾åˆ</div>
                        <div class="ingredient">è²å­</div>
                    </div>
                `,
                mapCaption: "ç§¦æ±‰æ—¶æœŸæ¸…è¡¥å‡‰ç›¸å…³é£Ÿæåœ¨å²­å—åœ°åŒºçš„ä¼ æ’­è·¯å¾„"
            },
            "å”å®‹æ—¶æœŸ": {
                title: "ä¸­åŸæ–‡åŒ–ä¼ å…¥",
                content: `
                    <p>å”å®‹æ—¶æœŸï¼Œéšç€ä¸­åŸæ–‡åŒ–ä¸å²­å—åœ°åŒºçš„äº¤æµæ—¥ç›Šé¢‘ç¹ï¼Œæ¸…è¡¥å‡‰çš„é…æ–¹å’Œåˆ¶ä½œå·¥è‰ºå¾—åˆ°äº†ä¸°å¯Œå’Œå‘å±•ã€‚</p>
                    <p>è¿™ä¸€æ—¶æœŸï¼Œä¸ç»¸ä¹‹è·¯çš„ç¹è£å¸¦æ¥äº†æ›´å¤šé£Ÿæå’Œé¦™æ–™ï¼Œå¦‚çº¢æ£ã€æ¡‚åœ†ç­‰ï¼Œè¿™äº›é£Ÿæé€æ¸èå…¥æ¸…è¡¥å‡‰çš„é…æ–¹ä¸­ã€‚</p>
                    <p>å”ä»£åŒ»å­¦å®¶å­™æ€é‚ˆåœ¨ã€Šåƒé‡‘è¦æ–¹ã€‹ä¸­è¯¦ç»†è®°è½½äº†å¤šç§é£Ÿç–—æ–¹å‰‚ï¼Œä¸ºæ¸…è¡¥å‡‰çš„å‘å±•æä¾›äº†ç†è®ºæ”¯æŒã€‚</p>
                    <div class="ingredients">
                        <div class="ingredient">çº¢æ£</div>
                        <div class="ingredient">æ¡‚åœ†</div>
                        <div class="ingredient">æ¸æ</div>
                        <div class="ingredient">é“¶è€³</div>
                    </div>
                `,
                mapCaption: "å”å®‹æ—¶æœŸæ¸…è¡¥å‡‰åœ¨ä¸­åŸä¸å²­å—ä¹‹é—´çš„ä¼ æ’­è·¯å¾„"
            },
            "æ˜æ¸…æ—¶æœŸ": {
                title: "å²­å—ç‰¹è‰²å½¢æˆ",
                content: `
                    <p>æ˜æ¸…æ—¶æœŸï¼Œæ¸…è¡¥å‡‰åœ¨å²­å—åœ°åŒºå½¢æˆäº†ç‹¬ç‰¹çš„åœ°æ–¹ç‰¹è‰²ï¼Œæˆä¸ºå¤å­£æ¶ˆæš‘çš„å¿…å¤‡é¥®å“ã€‚</p>
                    <p>éšç€æµ·ä¸Šè´¸æ˜“çš„å‘å±•ï¼Œä¸œå—äºšçš„æ¤°æµ†ã€è¥¿ç±³ç­‰é£Ÿæä¼ å…¥ï¼Œè¿›ä¸€æ­¥ä¸°å¯Œäº†æ¸…è¡¥å‡‰çš„é…æ–™å’Œå£æ„Ÿã€‚</p>
                    <p>è¿™ä¸€æ—¶æœŸï¼Œæ¸…è¡¥å‡‰å¼€å§‹ä»è¯è†³å‘ç”œå“è½¬å˜ï¼Œæ›´åŠ æ³¨é‡å£æ„Ÿå’Œé£å‘³ï¼Œé€æ¸æˆä¸ºå¤§ä¼—å–œçˆ±çš„æ—¥å¸¸é£Ÿå“ã€‚</p>
                    <div class="ingredients">
                        <div class="ingredient">æ¤°æµ†</div>
                        <div class="ingredient">è¥¿ç±³</div>
                        <div class="ingredient">èŠ‹å¤´</div>
                        <div class="ingredient">çº¢è±†</div>
                    </div>
                `,
                mapCaption: "æ˜æ¸…æ—¶æœŸæ¸…è¡¥å‡‰åœ¨å²­å—åœ°åŒºçš„ä¼ æ’­ä¸æ¼”å˜"
            },
            "æ°‘å›½æ—¶æœŸ": {
                title: "æµ·å—æœ¬åœŸåŒ–",
                content: `
                    <p>æ°‘å›½æ—¶æœŸï¼Œéšç€æµ·å—å²›çš„å¼€å‘ï¼Œæ¸…è¡¥å‡‰åœ¨å½“åœ°å®ç°äº†è¿›ä¸€æ­¥çš„æœ¬åœŸåŒ–ï¼Œå½¢æˆäº†ç‹¬ç‰¹çš„æµ·å—é£å‘³ã€‚</p>
                    <p>æµ·å—ä¸°å¯Œçš„çƒ­å¸¦æ°´æœèµ„æºï¼Œå¦‚èŠ’æœã€è èã€æœ¨ç“œç­‰ï¼Œè¢«åŠ å…¥æ¸…è¡¥å‡‰ä¸­ï¼Œåˆ›é€ äº†æ›´åŠ å¤šæ ·åŒ–çš„å£å‘³ã€‚</p>
                    <p>è¿™ä¸€æ—¶æœŸï¼Œæ¸…è¡¥å‡‰åœ¨æµ·å—çš„è¡—å¤´å··å°¾éšå¤„å¯è§ï¼Œæˆä¸ºæœ€å…·ä»£è¡¨æ€§çš„æµ·å—å¤æ—¥ç”œå“ã€‚</p>
                    <div class="ingredients">
                        <div class="ingredient">èŠ’æœ</div>
                        <div class="ingredient">è è</div>
                        <div class="ingredient">æœ¨ç“œ</div>
                        <div class="ingredient">è¥¿ç“œ</div>
                    </div>
                `,
                mapCaption: "æ°‘å›½æ—¶æœŸæ¸…è¡¥å‡‰åœ¨æµ·å—åœ°åŒºçš„æœ¬åœŸåŒ–å‘å±•"
            },
            "ç°ä»£": {
                title: "æ–‡åŒ–ä¼ æ‰¿ä¸åˆ›æ–°",
                content: `
                    <p>ç°ä»£ç¤¾ä¼šä¸­ï¼Œæ¸…è¡¥å‡‰ä¸ä»…ä¿ç•™äº†ä¼ ç»Ÿé…æ–¹å’Œåˆ¶ä½œå·¥è‰ºï¼Œè¿˜ä¸æ–­åˆ›æ–°ï¼Œé€‚åº”ç°ä»£äººçš„å£å‘³éœ€æ±‚ã€‚</p>
                    <p>éšç€å¥åº·é¥®é£Ÿç†å¿µçš„æ™®åŠï¼Œæ¸…è¡¥å‡‰çš„ä½ç³–ã€å¤©ç„¶ã€å…»ç”Ÿç‰¹ç‚¹å—åˆ°è¶Šæ¥è¶Šå¤šæ¶ˆè´¹è€…çš„é’çã€‚</p>
                    <p>å¦‚ä»Šï¼Œæ¸…è¡¥å‡‰å·²æˆä¸ºæµ·å—çš„æ–‡åŒ–ç¬¦å·ä¹‹ä¸€ï¼Œä¸ä»…åœ¨å½“åœ°å¹¿å—æ¬¢è¿ï¼Œè¿˜èµ°å‘å…¨å›½ä¹ƒè‡³ä¸–ç•Œï¼Œæˆä¸ºä¼ æ’­æµ·å—æ–‡åŒ–çš„é‡è¦è½½ä½“ã€‚</p>
                    <div class="ingredients">
                        <div class="ingredient">ä»™è‰</div>
                        <div class="ingredient">èŠ‹åœ†</div>
                        <div class="ingredient">å¸ƒä¸</div>
                        <div class="ingredient">æ¤°æœ</div>
                    </div>
                `,
                mapCaption: "ç°ä»£æ¸…è¡¥å‡‰åœ¨å…¨å›½åŠæµ·å¤–çš„ä¼ æ’­è·¯å¾„"
            }
        };

        // æ›´æ–°æ´»åŠ¨èŠ‚ç‚¹å‡½æ•°
        function updateActiveNode(index) {
            if (index < 0 || index >= timelineNodes.length) {
                console.error('Invalid node index:', index);
                return;
            }
            
            const node = timelineNodes[index];
            const year = node.getAttribute('data-year');
            const data = historyData[year];
            
            if (!data) {
                console.error('No data found for year:', year);
                return;
            }
            
            // æ›´æ–°æ¨¡æ€æ¡†å†…å®¹
            modalTitle.textContent = `${year} - ${data.title}`;
            modalText.innerHTML = data.content;
            modalMapCaption.textContent = data.mapCaption;
            
            // æ›´æ–°æ´»åŠ¨èŠ‚ç‚¹æ ·å¼
            timelineNodes.forEach(n => n.classList.remove('active'));
            node.classList.add('active');
            
            // æ›´æ–°æŒ‡ç¤ºç‚¹
            swipeDots.forEach(dot => dot.classList.remove('active'));
            swipeDots[index].classList.add('active');
            
            // æ˜¾ç¤ºæ¨¡æ€æ¡†
            modal.style.display = 'flex';
        }

        // ä¸ºæ¯ä¸ªæ—¶é—´è½´èŠ‚ç‚¹æ·»åŠ ç‚¹å‡»äº‹ä»¶
        timelineNodes.forEach((node, index) => {
            node.addEventListener('click', () => {
                updateActiveNode(index);
            });
        });

        // å…³é—­æ¨¡æ€æ¡†
        closeBtn.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });

        // æ·»åŠ è§¦æ‘¸æ»‘åŠ¨æ”¯æŒ
        let startX = 0;
        let currentIndex = 0;
        
        const timeline = document.querySelector('.timeline');
        
        timeline.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
        });
        
        timeline.addEventListener('touchend', (e) => {
            const endX = e.changedTouches[0].clientX;
            const diffX = startX - endX;
            
            // æ»‘åŠ¨é˜ˆå€¼å’Œæ­£ç¡®çš„æ–¹å‘åˆ¤æ–­
            if (diffX > 50 && currentIndex < timelineNodes.length - 1) {
                // å‘å·¦æ»‘åŠ¨ - ä¸‹ä¸€ä¸ª
                currentIndex++;
            } else if (diffX < -50 && currentIndex > 0) {
                // å‘å³æ»‘åŠ¨ - ä¸Šä¸€ä¸ª
                currentIndex--;
            } else {
                return; // æ»‘åŠ¨è·ç¦»ä¸è¶³ï¼Œä¸å¤„ç†
            }
            
            // æ›´æ–°æ´»åŠ¨èŠ‚ç‚¹
            updateActiveNode(currentIndex);
            
            // æ»šåŠ¨åˆ°æ´»åŠ¨èŠ‚ç‚¹
            timelineNodes[currentIndex].scrollIntoView({
                behavior: 'smooth',
                block: 'nearest',
                inline: 'center'
            });
        });

        // åˆå§‹æ¿€æ´»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
        document.addEventListener('DOMContentLoaded', function() {
            updateActiveNode(0);
        });
    </script>
</body>
</html>